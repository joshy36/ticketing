"use strict";(()=>{var e={};e.id=9943,e.ids=[9943],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},99288:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>m,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>x});var o={};r.r(o),r.d(o,{POST:()=>POST}),r(97718);var s=r(85103),a=r(7953),i=r(92482),n=r(87059);async function POST(e){let t=(0,n.Z)(),r=new Uint32Array(10);crypto.getRandomValues(r);let o=r[0],s=await e.formData(),a=s.get("file"),u=s.get("fileName"),p=s.get("location")+"?v="+o,l=String(s.get("bucket")),c=String(u).split(".")[1];console.log("file",a),console.log("filename",u),console.log("location",p),console.log("filetype",c);let{data:d,error:g}=await t.storage.from(l).upload(p,a,{cacheControl:"3600",upsert:!0,contentType:"image/"+c});return g?(console.log("Error uploading file:",g),i.Z.json({error:g},{status:500})):(console.log("Successfully uploaded file:",{location:p}),i.Z.json({location:p}))}let u=s.AppRouteRouteModule,p=new u({definition:{kind:a.x.APP_ROUTE,page:"/api/image/upload/route",pathname:"/api/image/upload",filename:"route",bundlePath:"app/api/image/upload/route"},resolvedPagePath:"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/api/image/upload/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:d,headerHooks:g,staticGenerationBailout:x}=p,m="/api/image/upload/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[8293,4502,2482,7059],()=>__webpack_exec__(99288));module.exports=r})();