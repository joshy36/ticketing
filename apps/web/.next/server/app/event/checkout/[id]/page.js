(()=>{var e={};e.id=3527,e.ids=[3527],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},14005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>l,routeModule:()=>m,tree:()=>u});var s=r(76427),i=r(7953),n=r(35145),a=r.n(n),o=r(15288),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let d=s.AppPageRouteModule,u=["",{children:["event",{children:["checkout",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25103)),"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/event/checkout/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,47442)),"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,23310)),"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/not-found.tsx"]}],l=["/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/event/checkout/[id]/page.tsx"],p="/event/checkout/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new d({definition:{kind:i.x.APP_PAGE,page:"/event/checkout/[id]/page",pathname:"/event/checkout/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},79385:(e,t,r)=>{Promise.resolve().then(r.bind(r,18805)),Promise.resolve().then(r.t.bind(r,94573,23))},18805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>EventCheckout});var s=r(82395),i=r(86417),n=r(89891),a=r(11702),o=r(89669),c=r(74555),d=r(78726),u=r(56769);let l=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,u.cn)("rounded-lg border text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let p=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",e),...t}));p.displayName="CardHeader";let x=d.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,u.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));x.displayName="CardTitle";let m=d.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,u.cn)("text-sm text-muted-foreground",e),...t}));m.displayName="CardDescription";let h=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,u.cn)("p-6 pt-0",e),...t}));h.displayName="CardContent";let f=d.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,u.cn)("flex items-center p-6 pt-0",e),...t}));f.displayName="CardFooter";var g=r(44584);function EventCheckout({ticketId:e,userProfile:t}){let[r,u]=(0,d.useState)(!1),j=(0,c.useRouter)(),b=i.S.sellTicket.useMutation({onSettled(e,r){e?j.push(`/user/${t.id}`):((0,o.Am)({description:"Error selling ticket!"}),console.error("Error selling ticket:",r)),u(!1)}}),{data:v,isLoading:k}=i.S.getTicketById.useQuery({id:e}),_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(v?.price));return(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[" ",(0,s.jsxs)(l,{className:"w-[500px]",children:[(0,s.jsxs)(p,{children:[s.jsx(x,{children:"Checkout"}),s.jsx(m,{children:"This will need to be updated"})]}),s.jsx(h,{children:k?s.jsx("p",{className:"font-sm mt-1 text-center text-lg text-accent-foreground",children:"Confirm purchase of seat ... for ..."}):(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-sm mt-1 text-center text-lg text-accent-foreground",children:`Confirm purchase of seat ${v?.seat} for ${_}`}),s.jsx("div",{children:r&&s.jsx("p",{className:"text-muted-foreground",children:"This may take a few seconds as your ticket is being transferred and the transaction is confimed on chain"})})]})}),(0,s.jsxs)(f,{className:"flex justify-between",children:[s.jsx(n.z,{variant:"outline",onClick:()=>j.back(),children:"Cancel"}),t.wallet_address?(0,s.jsxs)(n.z,{onClick:async()=>{u(!0),b.mutate({ticket_id:e,event_id:v?.event_id,user_id:t.id})},disabled:r,children:[r&&s.jsx(a.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Purchase"]}):(0,s.jsxs)(n.z,{onClick:()=>j.push(`/user/edit/${t.id}`),disabled:r,children:[r&&s.jsx(a.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx("p",{className:"underline",children:"Please Connect Wallet in Profile Section"}),s.jsx(g.h0n,{})]})]})]})]})}},25103:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Home});var s=r(63326),i=r(9507),n=r(46962);let a=(0,n.createProxy)(String.raw`/Users/joshuabender/Documents/GitHub/ticketing/apps/web/components/EventCheckout.tsx`),{__esModule:o,$$typeof:c}=a,d=a.default;var u=r(71959),l=r(43729);async function Home({params:e}){let t=(0,u.Z)(),{data:{session:r}}=await t.auth.getSession();r||(0,l.redirect)("/unauthorized");let n=await i.u.getUserProfile({id:r.user.id});return s.jsx("main",{children:s.jsx(d,{ticketId:e.id,userProfile:n})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[8293,5105,3326,1094,3729,7059,278,3053,1702],()=>__webpack_exec__(14005));module.exports=r})();