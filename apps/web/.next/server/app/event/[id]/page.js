(()=>{var e={};e.id=9744,e.ids=[9744],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},52636:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>u,routeModule:()=>p,tree:()=>o});var r=s(76427),a=s(7953),i=s(35145),n=s.n(i),l=s(15288),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=r.AppPageRouteModule,o=["",{children:["event",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,95202)),"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/event/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,47442)),"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,23310)),"/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/not-found.tsx"]}],u=["/Users/joshuabender/Documents/GitHub/ticketing/apps/web/app/event/[id]/page.tsx"],x="/event/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new d({definition:{kind:a.x.APP_PAGE,page:"/event/[id]/page",pathname:"/event/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},19954:(e,t,s)=>{Promise.resolve().then(s.bind(s,84227)),Promise.resolve().then(s.bind(s,11946)),Promise.resolve().then(s.bind(s,23279)),Promise.resolve().then(s.t.bind(s,14433,23)),Promise.resolve().then(s.t.bind(s,16508,23)),Promise.resolve().then(s.t.bind(s,94573,23))},84227:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>EventPurchase});var r=s(82395),a=s(24288),i=s.n(a),n=s(89891),l=s(86417),c=s(42922),d=s(76689),o=s(78726),u=s.n(o),x=s(56769);let m=o.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"w-full overflow-auto",children:r.jsx("table",{ref:s,className:(0,x.cn)("w-full caption-bottom text-sm",e),...t})}));m.displayName="Table";let p=o.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:(0,x.cn)("[&_tr]:border-b",e),...t}));p.displayName="TableHeader";let h=o.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:(0,x.cn)("[&_tr:last-child]:border-0",e),...t}));h.displayName="TableBody";let g=o.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:(0,x.cn)("bg-primary font-medium text-primary-foreground",e),...t}));g.displayName="TableFooter";let j=o.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:(0,x.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));j.displayName="TableRow";let f=o.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:(0,x.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));f.displayName="TableHead";let v=o.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:(0,x.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));v.displayName="TableCell";let b=o.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:(0,x.cn)("mt-4 text-sm text-muted-foreground",e),...t}));function DataTable({columns:e,data:t}){let[s,a]=u().useState([]),i=(0,c.b7)({data:t,columns:e,getCoreRowModel:(0,d.sC)(),getPaginationRowModel:(0,d.G_)(),onSortingChange:a,getSortedRowModel:(0,d.tj)(),state:{sorting:s}});return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"rounded-md border",children:(0,r.jsxs)(m,{children:[r.jsx(p,{children:i.getHeaderGroups().map(e=>r.jsx(j,{children:e.headers.map(e=>r.jsx(f,{children:e.isPlaceholder?null:(0,c.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),r.jsx(h,{children:i.getRowModel().rows?.length?i.getRowModel().rows.map(e=>r.jsx(j,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>r.jsx(v,{children:(0,c.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):r.jsx(j,{children:r.jsx(v,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[r.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>i.previousPage(),disabled:!i.getCanPreviousPage(),children:"Previous"}),r.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>i.nextPage(),disabled:!i.getCanNextPage(),children:"Next"})]})]})}b.displayName="TableCaption";var N=s(77730),w=s(74555);function EventPurchaseButton({eventId:e}){let t=(0,w.useRouter)();return r.jsx("div",{children:r.jsx(n.z,{variant:"secondary",onClick:()=>t.push(`/event/checkout/${e}`),children:"Purchase"})})}let y=[{accessorKey:"seat",header:"Seat"},{accessorKey:"price",header:({column:e})=>(0,r.jsxs)(n.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Price",r.jsx(N.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=parseFloat(e.getValue("price")),s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);return r.jsx("div",{className:"font-medium",children:s})}},{accessorKey:"id",header:"Purchase",cell:({row:e})=>r.jsx(EventPurchaseButton,{eventId:e.getValue("id")})}];function EventPurchase({user:e,event:t}){let{data:s,isLoading:a}=l.S.getTicketsForEvent.useQuery({event_id:t?.id}),c=s?.filter(e=>null===e.user_id);return r.jsx("div",{className:"py-10",children:e?t?.tickets_remaining===0?r.jsx("h1",{children:"Event sold out!"}):t?.etherscan_link?a?r.jsx("div",{children:"Loading..."}):r.jsx("div",{className:"py-6",children:r.jsx(DataTable,{columns:y,data:c})}):void 0:r.jsx(i(),{href:"/sign-in",children:r.jsx(n.z,{children:"Sign in to Purchase"})})})}},23279:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Separator:()=>l});var r=s(82395),a=s(78726),i=s(58032),n=s(56769);let l=a.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},l)=>r.jsx(i.f,{ref:l,decorative:s,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));l.displayName=i.f.displayName},95202:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var r=s(63326),a=s(9507),i=s(71959),n=s(48154),l=s.n(n),c=s(46962);let d=(0,c.createProxy)(String.raw`/Users/joshuabender/Documents/GitHub/ticketing/apps/web/components/EventPurchase.tsx`),{__esModule:o,$$typeof:u}=d,x=d.default;var m=s(23943),p=s(21776),h=s(73579),g=s(13652),j=s(72467),f=s.n(j),v=s(43729),b=s(342);async function EventView({params:e}){let t=await a.u.getEventById({id:e.id});t||(0,v.notFound)();let s=await a.u.getArtistById({id:t.artist}),n=await a.u.getVenueById({id:t.venue}),c=(0,i.Z)(),{data:{user:d}}=await c.auth.getUser();return r.jsx("div",{className:"bg-background",children:r.jsx("div",{className:"px-4 pt-9 md:px-16",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[r.jsx("div",{className:"aspect-h-1 aspect-w-1 xl:aspect-h-8 xl:aspect-w-7 flex w-full items-center justify-center overflow-hidden rounded-lg bg-background",children:t.image?r.jsx(l(),{src:t.image,alt:t.description,width:500,height:500,className:"rounded-lg"}):r.jsx(l(),{src:"/fallback.jpeg",alt:"image",width:500,height:500,className:"rounded-lg"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"lg:border-rlg:pr-8 lg:col-span-2",children:r.jsx("h1",{className:"text-8xl",children:t.name})}),t.etherscan_link?r.jsx("a",{href:`${t.etherscan_link}`,target:"_blank",children:r.jsx(m.z,{variant:"link",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1.5",children:[r.jsx("span",{className:"relative flex h-3 w-3",children:r.jsx("div",{className:"relative inline-flex h-3 w-3 rounded-full bg-green-600 "})}),r.jsx("div",{className:"text-muted-foreground",children:"Contract live"}),r.jsx(p.h0n,{className:"text-muted-foreground"})]})})}):(0,r.jsxs)("div",{className:"flex items-center space-x-1.5",children:[r.jsx("span",{className:"relative flex h-3 w-3",children:r.jsx("div",{className:"relative inline-flex h-3 w-3 rounded-full bg-yellow-500 "})}),r.jsx("div",{className:"text-muted-foreground",children:"Contract pending deployment"})]}),r.jsx(g.Z,{className:"my-6"}),r.jsx("p",{className:"text-2xl",children:"Date"}),r.jsx("div",{className:"space-y-6",children:r.jsx("p",{className:"pt-3 text-base text-muted-foreground",children:(0,h.U)(t.date)})}),r.jsx(g.Z,{className:"my-6"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-2xl",children:"Artist"}),(0,r.jsxs)("div",{className:"flex items-center pt-3",children:[r.jsx(b.qE,{className:"h-14 w-14",children:s?.image?r.jsx(b.F$,{src:s?.image,alt:"pfp"}):r.jsx(b.Q5,{})}),r.jsx("p",{className:"pl-4 text-muted-foreground",children:s?.name}),r.jsx(f(),{className:"ml-auto",href:`/artist/${s?.id}`,children:r.jsx(m.z,{variant:"link",children:"View Profile"})})]})]}),r.jsx(g.Z,{className:"my-6"}),r.jsx("p",{className:"text-2xl",children:"Venue"}),(0,r.jsxs)("div",{className:"flex items-center pt-3",children:[r.jsx("p",{className:"text-muted-foreground",children:n?.name}),r.jsx(f(),{className:"ml-auto",href:`/venue/${n?.id}`,children:r.jsx(m.z,{variant:"link",children:"View Venue"})})]}),r.jsx(g.Z,{className:"my-6"}),r.jsx("p",{className:"text-2xl",children:"Description"}),r.jsx("div",{className:"space-y-6",children:r.jsx("p",{className:"pt-3 text-base text-muted-foreground",children:t.description})}),r.jsx(g.Z,{className:"my-6"}),r.jsx("div",{className:"lg:border-rlg:pb-16 lg:col-span-2 lg:col-start-1",children:r.jsx("div",{children:r.jsx(x,{user:d,event:t})})})]})]})})})}function Home({params:e}){return r.jsx("main",{children:r.jsx(EventView,{params:{id:e.id}})})}},13652:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(46962);let a=(0,r.createProxy)(String.raw`/Users/joshuabender/Documents/GitHub/ticketing/apps/web/components/ui/separator.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=a.Separator},73579:(e,t,s)=>{"use strict";s.d(t,{U:()=>dateToString});let dateToString=e=>{let t=new Date(e),s=t.toLocaleString(),r=t.toLocaleTimeString(),a=r.split(":")[0]+":"+r.split(":")[1]+" "+r.split(" ")[1],i=s.split("/")[1],n={1:"Jan",2:"Feb",3:"March",4:"April",5:"May",6:"June",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}[s.split("/")[0]];return n+" "+i+", "+a}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[8293,5105,3326,1094,3729,8032,8154,5867,2688,7059,278,3053,844],()=>__webpack_exec__(52636));module.exports=s})();