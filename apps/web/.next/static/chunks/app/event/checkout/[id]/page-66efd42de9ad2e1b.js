(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{28785:function(e,t,n){Promise.resolve().then(n.bind(n,91716)),Promise.resolve().then(n.t.bind(n,89970,23))},46497:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(20695);let s=(0,r.ec)({})},91716:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return EventCheckout}});var r=n(27573),s=n(46497),i=n(92728),a=n(25381),c=n(21472),l=n(32859),o=n(7653),d=n(94619);let u=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border text-card-foreground shadow-sm",n),...s})});u.displayName="Card";let f=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",n),...s})});f.displayName="CardHeader";let m=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});m.displayName="CardTitle";let x=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",n),...s})});x.displayName="CardDescription";let h=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",n),...s})});h.displayName="CardContent";let p=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",n),...s})});p.displayName="CardFooter";var N=n(18015);function EventCheckout(e){let{ticketId:t,userProfile:n}=e,[d,j]=(0,o.useState)(!1),C=(0,l.useRouter)(),v=s.S.sellTicket.useMutation({onSettled(e,t){e?C.push("/user/".concat(n.id)):((0,c.Am)({description:"Error selling ticket!"}),console.error("Error selling ticket:",t)),j(!1)}}),{data:_,isLoading:k}=s.S.getTicketById.useQuery({id:t}),y=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null==_?void 0:_.price));return(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[" ",(0,r.jsxs)(u,{className:"w-[500px]",children:[(0,r.jsxs)(f,{children:[(0,r.jsx)(m,{children:"Checkout"}),(0,r.jsx)(x,{children:"This will need to be updated"})]}),(0,r.jsx)(h,{children:k?(0,r.jsx)("p",{className:"font-sm mt-1 text-center text-lg text-accent-foreground",children:"Confirm purchase of seat ... for ..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-sm mt-1 text-center text-lg text-accent-foreground",children:"Confirm purchase of seat ".concat(null==_?void 0:_.seat," for ").concat(y)}),(0,r.jsx)("div",{children:d&&(0,r.jsx)("p",{className:"text-muted-foreground",children:"This may take a few seconds as your ticket is being transferred and the transaction is confimed on chain"})})]})}),(0,r.jsxs)(p,{className:"flex justify-between",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:()=>C.back(),children:"Cancel"}),n.wallet_address?(0,r.jsxs)(i.z,{onClick:async()=>{j(!0),v.mutate({ticket_id:t,event_id:null==_?void 0:_.event_id,user_id:n.id})},disabled:d,children:[d&&(0,r.jsx)(a.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Purchase"]}):(0,r.jsxs)(i.z,{onClick:()=>C.push("/user/edit/".concat(n.id)),disabled:d,children:[d&&(0,r.jsx)(a.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),(0,r.jsx)("p",{className:"underline",children:"Please Connect Wallet in Profile Section"}),(0,r.jsx)(N.h0n,{})]})]})]})]})}},89970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{suspense:function(){return suspense},NoSSR:function(){return NoSSR}}),n(87675),n(7653);let r=n(96827);function suspense(){let e=Error(r.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=r.NEXT_DYNAMIC_NO_SSR_CODE,e}function NoSSR(e){let{children:t}=e;return t}}},function(e){e.O(0,[458,37,110,377,293,858,560],function(){return e(e.s=28785)}),_N_E=e.O()}]);